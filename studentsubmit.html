<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"  />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <link href="{{ url_for('static', filename='styles/home.css') }}" rel="stylesheet">
    <title>Student Profile</title>
    
  </head>
  <body>
    <div class="wrapper">
      <!--Top menu -->
      <div class="sidebar">
        <!--profile image & text-->
        <div class="profile">
          <img
            src="https://1.bp.blogspot.com/-vhmWFWO2r8U/YLjr2A57toI/AAAAAAAACO4/0GBonlEZPmAiQW4uvkCTm5LvlJVd_-l_wCNcBGAsYHQ/s16000/team-1-2.jpg"
            alt="profile_picture"
          />
          <h3>{{ name }} </h3>
          <p>{{role}}</p>
        </div>
        <!--menu item-->
        <ul>
            
            <li>
                <a href="/studentprofile" class="active">
                    <span class="icon"><i class="fas fa-desktop"></i></span>
                    <span class="item">Profile</span>
                </a>
            </li>
            <li>
                <a href="/assignment">
                    <span class="icon"><i class="fas fa-user-friends"></i></span>
                    <span class="item">Assignment</span>
                </a>
            </li>
            

            <li>
              <a href="/">
                  <span class="icon"><i class="fas fa-tachometer-alt"></i></span>
                  <span class="item">Logout</span>
              </a>
          </li>
            
        </ul>
      </div>
      <div class="main_content">
    <h2>Student Assignments</h2>
    
    <label for="subjectSelect">Select Subject:</label>
    <select id="subjectSelect" name="sub">
        <option value="os">Operating Systems</option>
        <option value="python">Python</option>
        <option value="wt">Web Technologies</option>
    </select>
    
    <div id="studentTable"></div>
</div>
</div>
  </div>
</div>
    <script>
        // Sample student data (you can replace this with actual data)
        const studentData = {
            os: [
                { sno:1,name: "OS_assignment1", due: "25/09/2023", file:"<form action='/' enctype='multipart/form-data'><input type='file' name='os1'><input type='submit'  name='s1' id='submit-button' class='tick-symbol'>&#10003;",submit:"",marks:""},
                { sno:2,name: "OS_assignment2", due: "25/09/2023", file:"<input type='file' name='os2'><button type='submit' name='os2' id='submit-button' class='tick-symbol'>&#10003;</button>",submit:"",marks:"" },
            ],
            python: [
                { sno:1,name: "python_assignment1", due: "25/09/2023", file:"<input type='file' name='py1'><button type='submit' value='upload' name='s1' id='submit-button' class='tick-symbol'>&#10003;</button>",submit:"",marks:"" },
                { sno:2,name: "python_assignment2", due: "25/09/2023", file:"<input type='file' name='py2'><button type='submit' value='upload' name='s2' id='submit-button' class='tick-symbol'>&#10003;</button>",submit:"",marks:"" },
            ],
            wt: [
                { sno:1,name: "wt_assignment1", due: "25/09/2023", file:"<input type='file' name='wt1'><button type='submit' value='upload' name='s1' id='submit-button' class='tick-symbol'>&#10003;</button>",submit:"",marks:""},
                { sno:2,name: "wt_assignment2", due: "25/09/2023", file:"<input type='file'name='wt2'><button type='submit' value='upload' name='s2' id='submit-button' class='tick-symbol'>&#10003;</button>",submit:"",marks:""},
            ],
        };

        const subjectSelect = document.getElementById('subjectSelect');
        const studentTable = document.getElementById('studentTable');

        // Function to update the table based on the selected subject
        function updateStudentTable() {
            const selectedSubject = subjectSelect.value;
            const students = studentData[selectedSubject];

            if (students) {
                // Generate HTML for the student table
                let tableHTML = '<form method="POST"><table border="0" id="mytable" class="table table-stipped"><thead><tr><th>Assignment No</th><th>Assignment Name</th><th>Due Date</th><th>File</th><th>Submitted date & time</th><th>Marks</th></tr></thead>';

                students.forEach(student => {
                    tableHTML += `<tbody><tr><td>${student.sno}</td><td>${student.name}</td><td>${student.due}</td><td>${student.file}</td><td>${student.submit}</td><td>${student.marks}</td></tr>`;
                });

                tableHTML += '</table>';

                studentTable.innerHTML = tableHTML;
            } else {
                studentTable.innerHTML = ''; // Clear the table if no subject is selected
            }
        }

        // Attach the updateStudentTable function to the change event of the select element
        subjectSelect.addEventListener('change', updateStudentTable);

        // Initial table update based on the default selected subject
        updateStudentTable();
    </script>
</body>
</html>
